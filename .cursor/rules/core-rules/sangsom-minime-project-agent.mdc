---
description: 
globs: 
alwaysApply: false
---
---
description: Master rule for Sangsom Mini-Me educational tamagotchi project. Apply when working on any aspect of this Unity + Blender project including character creation, educational game mechanics, AI-generated models, multi-user systems, administrative controls, or Minime Universe ecosystem development. This rule ensures consistency across the entire project and guides proper implementation of educational gaming principles, Japanese anime-style character systems, Unity C# runtime code, and Blender asset creation workflows.
globs: 
alwaysApply: false
---

# Sangsom Mini-Me Project Development Guide

## Project Overview
- **Educational 3D Tamagotchi**: Students care for personalized Mini-Me characters through homework completion
- **Minime Universe**: Expandable ecosystem with educational side games feeding resources to main character
- **Unity 6000.2.15f1 + Blender 5.0**: Unity for game runtime (C#), Blender for asset creation (Python)
- **AI-assisted development**: VSCode with automated code generation for both Unity C# and Blender Python
- **Target**: Schools/educators with multi-user account management

## Core Development Principles

### Character System
- **Anime-style 3D models** generated from 2-3 reference photos
- **Scalable customization**: Eye size sliders, outfits, accessories, jewelry
- **Animation requirements**: Dance, wave, wai, curtsy, bow movements
- **Student-specific folders**: `Assets/Characters/{StudentName}/`

### Educational Integration
- **Homework completion** drives character well-being and resources
- **No timers or stress mechanics** - focus on nurturing, cozy gameplay
- **Resource system**: Coins from homework, gems from excellence
- **Cross-game currency** from Minime Universe side games

### Technical Architecture
- **Unity 6000.2.15f1** as primary game engine with C# scripting
- **Blender 5.0** for 3D asset creation and FBX export to Unity
- **Multi-structural folders** for performance optimization
- **Administrative access** with password protection for teachers (Unity C#)
- **Multi-user account system** supporting entire schools (Unity JsonUtility)
- **Modular design** allowing post-launch content expansion

## File Organization Standards

### Assets Structure
```
Assets/
├── Characters/{StudentName}/
│   ├── Photos/          # Reference images for Blender AI model generation
│   ├── Models/          # FBX files exported from Blender to Unity
│   └── Animations/      # Animation clips for Unity Animator
├── Minime-Universe/
│   ├── Core-Game/       # Main tamagotchi systems (Unity scenes)
│   └── Side-Games/      # Educational mini-games (Unity)
├── Resources/
│   ├── Outfits/         # Purchasable clothing items (Unity materials)
│   └── Accessories/     # Hats, jewelry, special items (Unity prefabs)
├── Scenes/              # Unity scene files (MainScene.unity)
└── Scripts/
    ├── Runtime/         # Unity C# game logic
    │   ├── Core/        # GameManager.cs, UserManager.cs
    │   ├── Character/   # CharacterController.cs
    │   ├── UI/          # GameUI.cs, LoginUI.cs (TextMeshPro)
    │   └── Educational/ # EducationalAnalytics.cs
    └── Tests/           # NUnit tests for Unity Test Runner

Blender/
├── startup_script.py           # Blender project initialization
├── character_controller.py     # Mirrors Unity CharacterController
├── export_character.py         # Export to Unity FBX format
└── minime_addon.py            # Blender UI addon for Unity export
```

### Script Naming Conventions
**Unity C# Scripts:**
- **Managers**: `{System}Manager.cs` (e.g., `CharacterManager.cs`, `UserManager.cs`)
- **Controllers**: `{Feature}Controller.cs` (e.g., `CharacterController.cs`)
- **Data**: `{Type}Profile.cs` or `{Type}Data.cs` (e.g., `UserProfile.cs`)
- **UI**: `{Component}UI.cs` (e.g., `GameUI.cs`, `LoginUI.cs`)
- **Namespace**: `SangsomMiniMe.{Category}` (e.g., `SangsomMiniMe.Core`, `SangsomMiniMe.Character`)

**Blender Python Scripts:**
- **Managers**: `{system}_manager.py` (e.g., `character_manager.py`)
- **Controllers**: `{feature}_controller.py` (e.g., `customization_controller.py`) 
- **Data**: `{type}_data.py` (e.g., `student_data.py`, `outfit_data.py`)
- **Export**: `export_{type}.py` (e.g., `export_character.py`)

## AI-Assisted Development Rules

### Code Generation Guidelines
**For Unity C# Code:**
- **Use C# best practices** with strong typing and LINQ where appropriate
- **Follow Unity conventions** for MonoBehaviour, Coroutines, and event systems
- **Use Unity's JsonUtility** for serialization (not Newtonsoft.Json)
- **Implement SangsomMiniMe namespace hierarchy** consistently
- **Add [SerializeField] attributes** for Inspector-editable fields

**For Blender Python Code:**
- **Always use typed Python** with explicit types and null safety
- **Mirror Unity C# structure** for consistency (e.g., CharacterController exists in both)
- **Use JSON/YAML configuration** for data that matches Unity formats
- **Follow PEP 8 style guide** for Python code

**General:**
- **Implement comprehensive error handling** for all user interactions
- **Create modular, reusable components** for character customization
- **Follow SOLID principles** especially Single Responsibility

### Character AI Integration
- **Generate models in Blender from photos** using descriptive prompts about anime style
- **Export to Unity via FBX** with proper rig settings (Humanoid)
- **Create Unity animation controllers** with smooth transitions between states
- **Implement reactive character behaviors in Unity C#** based on care status
- **Design emotional feedback systems** showing character responses (Unity UI)

### Educational System Requirements
- **Homework assignment API integration in Unity C#** for school systems
- **Progress tracking with Unity UI visual indicators** for student engagement  
- **Achievement system in Unity** encouraging consistent care and academic performance
- **Parental/teacher dashboard using Unity UI** for monitoring student progress

## Unity & Blender Best Practices

### Unity Performance Optimization
- **Object pooling** for frequently instantiated objects (bullets, UI elements, particles)
- **Addressable assets** for lazy loading of character outfits and accessories
- **Unity Profiler** for identifying performance bottlenecks
- **Target 60fps** on mobile devices (iOS/Android)
- **Memory management** with proper disposal and avoiding GC allocations in Update()

### Blender Asset Creation
- **Efficient asset loading** using Blender's asset management
- **FBX export settings** compatible with Unity (scale, axis, animations)
- **Memory management** with proper disposal of temporary objects
- **Texture optimization** for mobile platforms (compress, resize)

### User Experience Design
- **Consistent visual hierarchy** with clear navigation
- **Accessibility considerations** including colorblind-friendly palettes
- **Intuitive mouse/touch interactions** with appropriate feedback
- **Responsive design** adapting to different screen sizes

## Examples

<example>
Creating a character customization script:
```python
import bpy
from bpy.types import Operator
from bpy.props import FloatProperty

class CharacterCustomization(Operator):
    """Operator for character customization"""
    bl_idname = "sangsom.character_customize"
    bl_label = "Customize Character"
    bl_options = {'REGISTER', 'UNDO'}
    
    # Scalable Features
    eye_size: FloatProperty(
        name="Eye Size",
        default=1.0,
        min=0.5,
        max=2.0
    )
    
    def execute(self, context):
        self.update_eye_size(context)
        self.load_student_customization()
        return {'FINISHED'}
    
    def update_eye_size(self, context):
        obj = context.active_object
        if obj:
            new_scale = 0.5 + self.eye_size
            obj.scale = (new_scale, new_scale, new_scale)
            self.save_customization()
```
</example>

<example type="invalid">
Avoid creating rigid, non-scalable character systems:
```python
# ❌ DON'T: Hard-coded, inflexible approach
class BadCharacter:
    hat1 = None
    hat2 = None
    hat3 = None  # Not scalable
    
    def change_hat(self, index):
        # Switch for each hat - not expandable
        pass
```
</example>


