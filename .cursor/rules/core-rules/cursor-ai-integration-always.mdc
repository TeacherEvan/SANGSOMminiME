---
description:
globs:
alwaysApply: false
---
# Cursor AI Integration Standards

## Code Generation Principles

### AI-Assisted Development
- **Context-aware code generation**: Use full project context for intelligent suggestions
- **Iterative improvement**: Build on existing code rather than replacing wholesale
- **Educational focus**: Generate code that teaches good practices through examples
- **Performance-first**: All generated code should be optimized for mobile/web deployment

### Prompt Engineering for Unity
- **Be specific about Unity version**: Target Unity 2022.3 LTS or newer
- **Include performance requirements**: Mobile-friendly, 60fps target
- **Specify coding standards**: C# 8.0+, async/await patterns, nullable reference types
- **Educational context**: Remember this is for student engagement and learning

## Code Review Standards

### Generated Code Quality
- **Readable and documented**: Every generated method includes summary comments
- **Error handling included**: Comprehensive try-catch blocks and null checks
- **Unity best practices**: Proper component caching, efficient Update patterns
- **Scalable architecture**: Systems that can grow with student count and features

### Integration Patterns
- **Modular design**: Components that work independently and together
- **Event-driven architecture**: Loose coupling using Unity Events and C# events
- **Data-driven systems**: ScriptableObjects for configuration and content
- **Test-friendly code**: Dependency injection and separation of concerns

## Project-Specific Context

### Sangsom Mini-Me Focus Areas
- **Character customization systems** with anime-style aesthetics
- **Educational integration** connecting homework to character wellbeing
- **Multi-user account management** for school deployment
- **Resource economy** balancing academic achievement with character care
- **Administrative tools** for teachers and school oversight

### Technical Constraints
- **Unity WebGL deployment** for cross-platform accessibility
- **Mobile optimization** ensuring smooth performance on tablets/phones
- **Scalable user management** supporting hundreds of students per school
- **Cultural sensitivity** especially for Thai cultural elements (wai gesture, etc.)

## Examples

<example>
AI-generated code should follow this pattern:
```csharp
/// <summary>
/// Manages character customization with real-time preview and save functionality.
/// Optimized for mobile performance with efficient UI updates.
/// </summary>
public class CharacterCustomizationManager : MonoBehaviour
{
    [Header("UI References")]
    [SerializeField] private Slider eyeSizeSlider;
    [SerializeField] private Button saveButton;
    
    [Header("Character References")]
    [SerializeField] private Transform characterPreview;
    [SerializeField] private EyeScalingSystem eyeScaler;
    
    private CharacterData currentCharacterData;
    private bool hasUnsavedChanges;
    
    /// <summary>
    /// Initialize the customization system with proper error handling
    /// </summary>
    private async void Start()
    {
        try
        {
            await LoadCharacterData();
            SetupUIListeners();
            RefreshPreview();
        }
        catch (System.Exception ex)
        {
            Debug.LogError($"Failed to initialize character customization: {ex.Message}");
            ShowErrorUI("Unable to load character. Please try again.");
        }
    }
    
    /// <summary>
    /// Update eye size with immediate visual feedback
    /// </summary>
    private void OnEyeSizeChanged(float newSize)
    {
        if (currentCharacterData == null || eyeScaler == null) return;
        
        currentCharacterData.EyeSize = Mathf.Clamp01(newSize);
        eyeScaler.UpdateEyeSize(currentCharacterData.EyeSize);
        MarkUnsavedChanges();
    }
}
```
</example>

<example type="invalid">
Avoid generating unfocused, non-educational code:
```csharp
// ‚ùå DON'T: Generate unclear, undocumented code
public class BadCode : MonoBehaviour 
{
    public float x; // No context, no documentation
    
    void Update() 
    {
        // Performance killer, no error handling
        GameObject.Find("Character").transform.localScale = Vector3.one * x;
    }
}
```
</example>
